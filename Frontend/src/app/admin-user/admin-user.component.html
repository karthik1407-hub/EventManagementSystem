<div class="admin-user-container">
  <h1>User Management</h1>
  <button class="back-btn" (click)="goBack()">Back to Admin Dashboard</button>

  <div *ngIf="isLoading()" class="loading">Loading users...</div>
  <div *ngIf="errorMessage()" class="error-message">{{ errorMessage() }}</div>

  <div class="actions">
    <button class="add-btn" (click)="showAddUserForm()">Add New User</button>
  </div>

  <!-- User Form -->
  <div *ngIf="showUserForm()" class="form-container">
    <h2>{{ editingUser() ? 'Edit User' : 'Add New User' }}</h2>
    <form [formGroup]="userForm" (ngSubmit)="saveUser()">
      <div class="form-group">
        <label for="name">Name:</label>
        <input type="text" id="name" formControlName="name" required>
      </div>
      <div class="form-group">
        <label for="email">Email:</label>
        <input type="email" id="email" formControlName="email" required>
      </div>
      <div class="form-group">
        <label for="contactNumber">Contact Number:</label>
        <input type="text" id="contactNumber" formControlName="contactNumber" required>
      </div>
      <div class="form-group">
        <label for="roles">Roles:</label>
        <input type="text" id="roles" formControlName="roles">
      </div>
      <div class="form-actions">
        <button type="button" class="cancel-btn" (click)="hideUserForm()">Cancel</button>
        <button type="submit" class="save-btn" [disabled]="!userForm.valid">Save</button>
      </div>
    </form>
  </div>

  <!-- Users List -->
  <div class="users-list">
    <h2>Users ({{ users().length }})</h2>
    <ul class="data-list">
      <li *ngFor="let user of users()" class="data-item">
        <div class="item-info">
          <strong>{{ user.name }}</strong><br>
          Email: {{ user.email }}<br>
          Contact: {{ user.contactNumber }}<br>
          Roles: {{ user.roles }}
        </div>
        <div class="item-actions">
          <button class="edit-btn" (click)="showEditUserForm(user)">Edit</button>
          <button class="delete-btn" (click)="deleteUser(user)">Delete</button>
        </div>
      </li>
    </ul>
  </div>
</div>
